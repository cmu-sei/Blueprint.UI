<!--
Copyright 2022 Carnegie Mellon University. All Rights Reserved.
 Released under a MIT (SEI)-style license, please see LICENSE.md in the project root for license information or contact permission@sei.cmu.edu for full terms.
-->

<div class="background text app-content-container">
  <app-topbar
    *ngIf="!hideTopbar"
    [title]="topbarText"
    [topbarView]="TopbarView.STEAMFITTER_HOME"
    [topbarColor]="topbarColor"
    [topbarTextColor]="topbarTextColor"
    [imageFilePath]="topbarImage"
  ></app-topbar>

  <div *ngIf="apiIsSick" autosize>
    <h1>{{ apiMessage }}</h1>
    <h2>Please refresh this page.</h2>
    <h2>If the problem persists, please contact the site administrator.</h2>
  </div>

  <div *ngIf="hideTopbar" class="righticon">
    <button
      mat-button
      class="icon-color"
      style="outline: none;"
      (click)="goToUrl('/admin')"
      title="Admin Pages"
    >
      <mat-icon aria-hidden="false" class="icon-color admin-cog-icon mdi-24px" fontIcon="mdi-cog-outline"></mat-icon>
    </button>
  </div>
  <section *ngIf="!selectedMselId">
    <app-msel-list></app-msel-list>
  </section>
  <section *ngIf="selectedMselId">
    <app-msel></app-msel>
  </section>
  <div *ngIf="isLoading | async">
    <mat-progress-bar color="primary" mode="indeterminate" style="width: 90%; margin: 20px;"></mat-progress-bar>
  </div>
</div>
